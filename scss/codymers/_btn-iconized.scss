// CORE 
// ===============================================
@use "../abstracts/index" as *;
// ===============================================

// CDMR: btn-iconized
// ===============================================
@mixin cdmr-btn-iconized($theme: null) {
  .cdmr-btn-iconized {
    $self: &;
    @include position(relative);
    @include border(all, var(--theme-w-border), solid, null);
    @include border-radius(var(--theme-radius));
    display: inline-block;
    transition: border-color 0.25s ease-out, color 0.25s ease-out,
      background-color 0.25s ease-out;
    background-color: transparent;

    // &:hover
    &:hover {
      cursor: default;
    }

    // &:focus
    &:focus {
      outline: 0;
    }

    // &:focus-visible
    &:focus-visible {
      outline: 0.2rem solid var(--color-state-focus);
    }

    // &--primary
    &--primary {
      border-color: var(--color-primary);
      background-color: var(--color-primary);
    }

    // &--secondary
    &--secondary {
      border-color: var(--color-secondary);
    }

    // &--tertiary
    &--tertiary {
      border-color: var(--color-tertiary);
      background-color: var(--color-tertiary);
    }

    // &--quaternary
    &--quaternary {
      border-color: var(--color-quaternary);
    }

    // &--shape
    &--shape {
      // &-box
      &-box {
        @include border-radius(var(--theme-radius));
      }

      // &-circle
      &-circle {
        @include border-radius(50%);
      }
    }

    // &--scope
    &--scope { 
      // &-01
      &-01 {
        @include size(calc(2.5 * var(--scope-01)));

        // .cdmr
        .cdmr {
          // &-icon
          &-icon {
            // &:before
            &:before {
              @include size(calc(var(--scope-01) - 5%));
            }
          }
        }
      }
    }

    // &:where()
    &:where(#{ $self }--primary) {
      // .cdmr
      .cdmr {
        // &-icon
        &-icon {
          // &:before
          &:before {
            filter: var(--filter-color-white);
          }
        }
      }

      // &:hover
      &:hover {
        border-color: var(--color-primary);
        background-color: var(--color-primary);
      }
    }

    // &:where()
    &:where(#{ $self }--secondary) {
      // .cdmr
      .cdmr {
        // &-icon
        &-icon {
          // &:before
          &:before {
            filter: var(--filter-secondary);
          }
        }
      }

      // behavior-in-ancestor
      @include behavior-in-ancestor(helper-bg-color-primary-02) {
        border-color: var(--color-white);
      }

      // &:hover
      &:hover {
        border-color: var(--color-secondary);
        background-color: var(--color-secondary);
      }
    }

    // &:where
    &:where(#{ $self }--tertiary) {
      // .cdmr
      .cdmr {
        // &-icon
        &-icon {
          // &:before
          &:before {
            filter: var(--filter-color-white);
          }
        }
      }

      // &:hover
      &:hover {
        border-color: var(--color-tertiary);

        // .cdmr
        .cdmr {
          // &-icon
          &-icon {
            // &:before
            &:before {
              filter: var(--filter-color-black);
            }
          }
        }
      }
    }

    // &:where
    &:where(#{ $self }--quaternary) {
      // .cdmr
      .cdmr {
        // &-icon
        &-icon {
          // &:before
          &:before {
            filter: var(--filter-quaternary);
          }
        }
      }

      // behavior-in-ancestor
      @include behavior-in-ancestor(helper-bg-color-primary-02) {
        border-color: var(--color-white);

        // .cdmr
        .cdmr {
          // &-icon
          &-icon {
            // &:before
            &:before {
              filter: var(--filter-color-white);
            }
          }
        }
      }

      // &:hover
      &:hover {
        border-color: var(--color-primary);

        // .cdmr
        .cdmr {
          // &-icon
          &-icon {
            // &:before
            &:before {
              filter: var(--filter-quaternary);
            }
          }
        }
      }
    }

    // &--has
    &--has {
    }

    // &--is
    &--is {
    }
  }
}
